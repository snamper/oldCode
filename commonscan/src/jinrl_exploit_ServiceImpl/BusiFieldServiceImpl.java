package jinrl_exploit_ServiceImpl;

import java.util.Set;

import jinrl_exploit_ICommonDao.ICommonDao;
import jinrl_exploit_IService.IBusiFieldService;
import jinrl_exploit_Po.TbusiField;
import jinrl_exploit_Po.TbusiInfo;

public class BusiFieldServiceImpl implements IBusiFieldService {
	ICommonDao commonDao;

	public void setCommonDao(ICommonDao commonDao) {
		this.commonDao = commonDao;
	}

	public TbusiField getBusiFieldByfid(String fid){
		TbusiField datab = null;
		try{
			datab = (TbusiField) commonDao.getData(fid, TbusiField.class);
		}catch(Exception e){
			e.printStackTrace();
		}
		return datab;
	}

	public String getBusiInfoIdByfid(String fid){
		TbusiField datab = null;
		try{
			datab = (TbusiField) commonDao.getData(fid, TbusiField.class);
		}catch(Exception e){
			e.printStackTrace();
		}
		return datab.getTbusiInfo().getFid();
	}

	public int getselectGroup(String fid,String pkfid){
		TbusiInfo datab = null;
		try{
			datab = (TbusiInfo) commonDao.getData(fid, TbusiInfo.class);
		}catch(Exception e){
			e.printStackTrace();
		}
		Set<TbusiField> set  = datab.getTbusiFields();
		Integer selectGroup = 0;
		for(TbusiField f :set){
			if(f.getFfieldname().equals(pkfid)){
				selectGroup = f.getFselectgroup();
				break;
			}
		}
		return selectGroup;
	}
}
